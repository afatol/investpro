(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{9464:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(9508)}])},9508:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var s=a(7876),o=a(4250),i=a.n(o),d=a(4232),t=a(8230),n=a.n(t),l=a(2829),c=a(7882);function x(){let[e,r]=(0,d.useState)(""),[a,o]=(0,d.useState)(""),[t,x]=(0,d.useState)(""),[u,f]=(0,d.useState)(""),m=async r=>{r.preventDefault(),f("");let{data:s,error:o}=await l.N.auth.signUp({email:e,password:a});if(o)return f(o.message);let i={user_id:s.user.id,referral_code:"FX"+Math.random().toString(36).slice(2,8).toUpperCase()};if(t){let{data:e,error:r}=await l.N.from("user_profiles").select("user_id").eq("referral_code",t).single();!r&&(null==e?void 0:e.user_id)&&(i.referred_by=e.user_id)}let{error:d}=await l.N.from("user_profiles").insert([i]);if(d)return console.error("Erro ao criar perfil:",d),f("Falha ao salvar perfil: "+d.message);window.location.href="/login"};return(0,s.jsxs)("div",{className:"jsx-9d3439e2fe45307 container",children:[(0,s.jsx)(c.A,{}),(0,s.jsx)("h1",{className:"jsx-9d3439e2fe45307",children:"Cadastro"}),u&&(0,s.jsx)("p",{className:"jsx-9d3439e2fe45307 error",children:u}),(0,s.jsxs)("form",{onSubmit:m,className:"jsx-9d3439e2fe45307",children:[(0,s.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:e,onChange:e=>r(e.target.value),className:"jsx-9d3439e2fe45307"}),(0,s.jsx)("input",{type:"password",placeholder:"Senha",required:!0,value:a,onChange:e=>o(e.target.value),className:"jsx-9d3439e2fe45307"}),(0,s.jsx)("input",{type:"text",placeholder:"C\xf3digo de Indica\xe7\xe3o (opcional)",value:t,onChange:e=>x(e.target.value.trim()),className:"jsx-9d3439e2fe45307"}),(0,s.jsx)("button",{type:"submit",className:"jsx-9d3439e2fe45307 btn",children:"Cadastrar"})]}),(0,s.jsxs)("p",{className:"jsx-9d3439e2fe45307 links",children:[(0,s.jsx)(n(),{href:"/login",children:"J\xe1 tenho conta"})," |"," ",(0,s.jsx)(n(),{href:"/",children:"Voltar"})]}),(0,s.jsx)(i(),{id:"9d3439e2fe45307",children:".container.jsx-9d3439e2fe45307{max-width:400px;margin:2rem auto;padding:1.5rem;border:1px solid#ddd;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;text-align:center}h1.jsx-9d3439e2fe45307{margin-bottom:1rem}form.jsx-9d3439e2fe45307{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.75rem}input.jsx-9d3439e2fe45307{padding:.5rem;font-size:1rem;border:1px solid#ccc;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.btn.jsx-9d3439e2fe45307{margin-top:.5rem;padding:.75rem;font-size:1rem;background-color:#0070f3;color:#fff;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer}.btn.jsx-9d3439e2fe45307:hover{background-color:#005bb5}.links.jsx-9d3439e2fe45307{margin-top:1rem;font-size:.9rem}.error.jsx-9d3439e2fe45307{color:#c00;margin-bottom:1rem}"})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[879,92,79,636,593,792],()=>r(9464)),_N_E=e.O()}]);