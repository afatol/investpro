(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{2829:(e,r,s)=>{"use strict";s.d(r,{N:()=>t});let t=(0,s(6879).UU)("https://fkjglcimmaomxdmhmled.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZramdsY2ltbWFvbXhkbWhtbGVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU4NDIwODksImV4cCI6MjA2MTQxODA4OX0.u7pzHGRwpLzCNbpyoeK1fysTtlZ7lpeZw4AdDmWu9oM")},3064:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/deposit",function(){return s(9525)}])},7882:(e,r,s)=>{"use strict";s.d(r,{A:()=>l});var t=s(7876),a=s(4587),n=s.n(a),o=s(8230),i=s.n(o);function l(){return(0,t.jsxs)("header",{className:"header",children:[(0,t.jsx)("div",{className:"logo-container",children:(0,t.jsx)(i(),{href:"/",children:(0,t.jsx)(n(),{src:"/logo.png",alt:"InvestPro",width:140,height:40,priority:!0})})}),(0,t.jsxs)("nav",{children:[(0,t.jsx)(i(),{href:"/dashboard",children:"Dashboard"}),(0,t.jsx)(i(),{href:"/planos",children:"Planos"}),(0,t.jsx)(i(),{href:"/deposit",children:"Depositar"}),(0,t.jsx)(i(),{href:"/withdraw",children:"Sacar"}),(0,t.jsx)(i(),{href:"/rede",children:"Minha Rede"}),(0,t.jsx)(i(),{href:"/sobre",children:"Sobre"}),(0,t.jsx)(i(),{href:"/manual",children:"Manual de Uso"}),(0,t.jsx)(i(),{href:"/logout",children:"Sair"})]})]})}},9525:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(7876),a=s(4232),n=s(2829),o=s(7882);function i(){let[e,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(null),[l,d]=(0,a.useState)(""),c=async r=>{r.preventDefault(),d("");let{data:{session:t}}=await n.N.auth.getSession();if(!t)return window.location.href="/login";if(!e||0>=parseFloat(e))return d("Informe um valor de dep\xf3sito v\xe1lido.");if(!s)return d("Selecione um comprovante.");let a="".concat(t.user.id,"_").concat(Date.now(),"_").concat(s.name),{error:o}=await n.N.storage.from("proofs").upload(a,s);if(o)return d("Erro no upload: ".concat(o.message));let{data:{publicUrl:i}}=n.N.storage.from("proofs").getPublicUrl(a),{error:l}=await n.N.from("transactions").insert([{user_id:t.user.id,amount:parseFloat(e),type:"deposit",proof_url:i,status:"pending"}]);if(l)return d("Erro ao registrar transa\xe7\xe3o: ".concat(l.message));window.location.href="/dashboard"};return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(o.A,{}),(0,t.jsx)("h1",{children:"Depositar"}),l&&(0,t.jsx)("p",{style:{color:"red",marginBottom:"1rem"},children:l}),(0,t.jsxs)("form",{onSubmit:c,children:[(0,t.jsxs)("label",{children:["Valor do dep\xf3sito (USD):",(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"Ex: 100.00",value:e,required:!0,onChange:e=>r(e.target.value)})]}),(0,t.jsxs)("label",{children:["Comprovante (jpg, png ou pdf):",(0,t.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",required:!0,onChange:e=>i(e.target.files[0])})]}),(0,t.jsx)("button",{className:"btn",type:"submit",children:"Enviar Dep\xf3sito"})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[879,92,636,593,792],()=>r(3064)),_N_E=e.O()}]);